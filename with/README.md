# with
上下文管理器的原理和两种实现方式

## 原理
Python中的上下文管理器（Context Manager）是一种用于在代码块执行前后自动处理资源的, 用于简化资源管理

## 1.类实现
见MyOpen, 定义__enter__、__exit__方法

## 2.生成器函数实现
见with_open, yield之前的代码相当于__enter__, yield之后的代码相当于__exit__


## 适用场景
1. 类实现适用于一个完整其他功能的类，附带上下文管理器功能, 例如一个音频播放控制器类, 在__enter__中进行初始化工作，在__exit__中释放资源，避免内存泄漏
2. 生成器函数实现适用于单纯上下文管理功能的实现，例如计时器等

ps: 另外使用yield可以灵活定义with代码块的执行时机, 见conditional_manager

